<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog — Alex Donovan-Lowe</title>
    <link href="style.css" rel="stylesheet">
    <link href="style_blog.css" rel="stylesheet">
  </head>
  <body class="blog-page">
    <div class="back-link">
      <a href="index.html">&larr; Home</a>
    </div>
    <main class="blog-main">
      <div class="blog-header">
        <img class="circle_img" src="assets/me.png" alt="Portrait image">
        <h1 class="bigheading">Blog</h1>
        <p class="subheading">A simple blog where I share my thoughts and musings from time-to-time.</p>
      </div>

      <div class="posts" id="posts">
        <article class="blog-article">
          <div class="post-inner">
            <h2 class="post-title">Welcome — first post</h2>
            <p>This is a simple starter blog page. You can add posts as separate HTML files or expand this into a templated blog.</p>
          </div>
        </article>

        <article class="blog-article">
          <div class="post-inner">
            <h2 class="post-title">Photography project — notes</h2>
            <p>Short notes about a recent shoot and experiments with lighting and composition.</p>
          </div>
        </article>

        <article class="blog-article">
          <div class="post-inner">
            <h2 class="post-title">Diversity and inclusion — a note</h2>
            <p>Thoughts on championing diversity in academia and creative practice.</p>
          </div>
        </article>
      </div>
    </main>

    <!-- chevron shown when there is more content below the current viewport -->
    <button class="scroll-chevron" id="chev" aria-label="Scroll to next post"></button>

    <script>
      (function(){
        const posts = document.getElementById('posts');
        const chev = document.getElementById('chev');

        function updateChevron(){
          // show chevron only if there is more vertical scrollable content
          if(!posts) return;
          const canScrollDown = posts.scrollTop + posts.clientHeight < posts.scrollHeight - 1;
          if(canScrollDown) chev.classList.add('visible'); else chev.classList.remove('visible');
        }

        // scroll to next post (page) when chevron clicked
        function scrollNext(){
          if(!posts) return;
          const cur = posts.scrollTop;
          const page = posts.clientHeight;
          const next = Math.min(cur + page, posts.scrollHeight - page);
          posts.scrollTo({ top: next, behavior: 'smooth' });
        }

        // initial check
        window.addEventListener('load', updateChevron);
        window.addEventListener('resize', updateChevron);
        posts && posts.addEventListener('scroll', updateChevron);
        chev && chev.addEventListener('click', scrollNext);

        // also hide chevron if there's only one post
        updateChevron();
      })();
    </script>
  </body>
</html>
